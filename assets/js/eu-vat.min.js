jQuery(function(){function o(e,r){r?(e.find("label .optional").remove(),e.addClass("validate-required"),0===e.find("label .required").length&&e.find("label").append('&nbsp;<abbr class="required" title="'+wc_address_i18n_params.i18n_required_text+'">*</abbr>')):(e.find("label .required").remove(),e.removeClass("validate-required woocommerce-invalid woocommerce-invalid-required-field"),0===e.find("label .optional").length&&e.find("label").append('&nbsp;<span class="optional">('+wc_address_i18n_params.i18n_optional_text+")</span>"))}jQuery("form.checkout, form#order_review").on("change","#billing_country",function(){var e=jQuery("#billing_country").val(),r=wc_eu_vat_params.eu_countries,a=wc_eu_vat_params.b2b_required;o(jQuery("#woocommerce_eu_vat_number_field"),!1),e&&0<=jQuery.inArray(e,r)?(jQuery("#woocommerce_eu_vat_number_field").fadeIn(),"yes"===a&&o(jQuery("#woocommerce_eu_vat_number_field"),!0)):jQuery("#woocommerce_eu_vat_number_field").fadeOut()}),jQuery("#billing_country").trigger("change"),jQuery("form.checkout, form#order_review").on("change","#woocommerce_eu_vat_number",function(){jQuery("body").trigger("update_checkout")}),jQuery(document.body).on("updated_checkout",function(e,r){($vat_field=jQuery("#woocommerce_eu_vat_number")).is(":visible")&&($vat_code=$vat_field.val(),$vat_field_wrapper=$vat_field.closest(".form-row"),"success"===r.result?$vat_code.length||$vat_field_wrapper.removeClass("woocommerce-validated"):r.messages.length&&r.messages.includes($vat_code.toUpperCase())&&($vat_field_wrapper.removeClass("woocommerce-validated"),$vat_field_wrapper.addClass("woocommerce-invalid")))})});
